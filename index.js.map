{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["// 1. Инициализация плавного скролла Lenis\nconst lenis = new Lenis()\n\nfunction raf(time) {\n  lenis.raf(time)\n  requestAnimationFrame(raf)\n}\nrequestAnimationFrame(raf)\n\n// 2. Эффект хедера при скролле\nconst header = document.querySelector('.header');\nwindow.addEventListener('scroll', () => {\n    if (window.scrollY > 50) {\n        header.style.padding = '12px 0';\n        header.style.boxShadow = '0 10px 30px rgba(0,0,0,0.05)';\n    } else {\n        header.style.padding = '20px 0';\n        header.style.boxShadow = 'none';\n    }\n});\n\n// 3. Плавный переход по якорям (Lenis совместимый)\ndocument.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n    anchor.addEventListener('click', function (e) {\n        e.preventDefault();\n        const target = document.querySelector(this.getAttribute('href'));\n        if (target) {\n            lenis.scrollTo(target);\n        }\n    });\n});\n// Ждем загрузки DOM\ndocument.addEventListener('DOMContentLoaded', () => {\n    \n    // 1. Анимация текста SplitType + GSAP\n    const heroTitle = new SplitType('#hero-title', { types: 'words, chars' });\n    \n    gsap.from(heroTitle.chars, {\n        opacity: 0,\n        y: 50,\n        duration: 1,\n        stagger: 0.02,\n        ease: \"back.out(1.7)\",\n        delay: 0.5\n    });\n\n    gsap.from('.hero__description', {\n        opacity: 0,\n        y: 20,\n        duration: 0.8,\n        delay: 1.2\n    });\n\n    gsap.from('.hero__btns', {\n        opacity: 0,\n        y: 20,\n        duration: 0.8,\n        delay: 1.4\n    });\n\n    // 2. Движение Orb за мышкой (плавное)\n    const orb = document.querySelector('#hero-orb');\n    window.addEventListener('mousemove', (e) => {\n        const { clientX, clientY } = e;\n        const x = (clientX - window.innerWidth / 2) * 0.05;\n        const y = (clientY - window.innerHeight / 2) * 0.05;\n        \n        gsap.to(orb, {\n            x: x,\n            y: y,\n            duration: 2,\n            ease: \"power2.out\"\n        });\n    });\n    // Регистрируем плагин\ngsap.registerPlugin(ScrollTrigger);\n\n// Анимация секции About\nconst aboutTL = gsap.timeline({\n    scrollTrigger: {\n        trigger: \".about\",\n        start: \"top 70%\", // анимация начнется, когда верх секции дойдет до 70% экрана\n    }\n});\n\naboutTL.from(\".about__image\", {\n    x: -100,\n    opacity: 0,\n    duration: 1,\n    ease: \"power3.out\"\n})\n.from(\".about__content .section-title\", {\n    y: 50,\n    opacity: 0,\n    duration: 0.8\n}, \"-=0.6\")\n.from(\".feature-item\", {\n    y: 30,\n    opacity: 0,\n    stagger: 0.2,\n    duration: 0.6\n}, \"-=0.4\");\n    // Анимация карточек в секции Benefits\ngsap.from(\".benefit-card\", {\n    scrollTrigger: {\n        trigger: \".benefits__grid\",\n        start: \"top 80%\",\n    },\n    y: 60,\n    opacity: 0,\n    duration: 0.8,\n    stagger: 0.2, // Карточки вылетают по очереди\n    ease: \"power2.out\"\n});\n    // Анимация секции Innovations\nconst innovTL = gsap.timeline({\n    scrollTrigger: {\n        trigger: \".innovations__timeline\",\n        start: \"top 60%\",\n        end: \"bottom 80%\",\n        scrub: 1 // Линия растет синхронно со скроллом\n    }\n});\n\n// Рост прогресс-бара\ninnovTL.to(\".timeline__progress\", {\n    height: \"100%\",\n    ease: \"none\"\n});\n\n// Появление шагов (отдельный ScrollTrigger для каждого шага)\ndocument.querySelectorAll('.step-item').forEach((step, index) => {\n    gsap.to(step, {\n        scrollTrigger: {\n            trigger: step,\n            start: \"top 70%\",\n            toggleClass: \"active\", // Добавляем класс при попадании в фокус\n        },\n        opacity: 1,\n        x: 0,\n        duration: 0.8,\n        ease: \"power2.out\"\n    });\n});\n    // Инициализация слайдера кейсов\nconst casesSlider = new Swiper('.cases-slider', {\n    slidesPerView: 1,\n    spaceBetween: 30,\n    loop: true,\n    navigation: {\n        nextEl: '.swiper-button-next-custom',\n        prevEl: '.swiper-button-prev-custom',\n    },\n    breakpoints: {\n        768: {\n            slidesPerView: 2,\n        },\n        1100: {\n            slidesPerView: 2.5, // Видна часть следующего слайда для интриги\n        }\n    }\n});\n\n// Добавим анимацию появления при скролле\ngsap.from(\".cases-slider\", {\n    scrollTrigger: {\n        trigger: \".cases\",\n        start: \"top 70%\",\n    },\n    opacity: 0,\n    y: 50,\n    duration: 1\n});\n    // --- КУСОК ДЛЯ КОНТАКТНОЙ ФОРМЫ ---\n\nlet captchaAnswer;\n\n// Генерация капчи\nfunction generateCaptcha() {\n    const q = document.getElementById('captcha-question');\n    if(!q) return;\n    const n1 = Math.floor(Math.random() * 10) + 1;\n    const n2 = Math.floor(Math.random() * 10) + 1;\n    captchaAnswer = n1 + n2;\n    q.innerText = `${n1} + ${n2}`;\n}\n\n// Сброс формы\nfunction resetForm() {\n    const form = document.getElementById('contact-form');\n    const success = document.getElementById('form-success');\n    form.reset();\n    form.style.display = 'block';\n    success.style.display = 'none';\n    generateCaptcha();\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    generateCaptcha();\n\n    const form = document.getElementById('contact-form');\n    const success = document.getElementById('form-success');\n    const phoneInput = document.getElementById('phone');\n\n    // 1. Валидация телефона (только цифры)\n    phoneInput.addEventListener('input', (e) => {\n        e.target.value = e.target.value.replace(/[^\\d+]/g, '');\n    });\n\n    // 2. Обработка отправки\n    form.addEventListener('submit', (e) => {\n        e.preventDefault();\n\n        const userAnswer = parseInt(document.getElementById('captcha').value);\n\n        // Проверка капчи\n        if (userAnswer !== captchaAnswer) {\n            alert('Неверный ответ на защитный вопрос. Попробуйте еще раз.');\n            generateCaptcha();\n            return;\n        }\n\n        // Имитация AJAX\n        const submitBtn = form.querySelector('button');\n        submitBtn.innerText = 'Отправка...';\n        submitBtn.disabled = true;\n\n        setTimeout(() => {\n            gsap.to(form, { opacity: 0, duration: 0.4, onComplete: () => {\n                form.style.display = 'none';\n                success.style.display = 'flex';\n                gsap.from(success, { opacity: 0, y: 20, duration: 0.5 });\n            }});\n        }, 1500);\n    });\n});\n});"],"names":["lenis","raf","time","header","anchor","e","target","heroTitle","orb","clientX","clientY","x","y","step","index","captchaAnswer","generateCaptcha","q","n1","n2","form","success","submitBtn"],"mappings":"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"}